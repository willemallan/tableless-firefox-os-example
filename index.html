<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Bolha</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="imgs/icons/32.png">

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>

  </head>
  <body>

    <div>Bolha - Score: <span id="score">0</span> Contador: <span id="contador">60</span></div>
    <ul id="bolha">
    </ul>


    <script>
      $(function() {

        // gera as bolhas
        var lista = '';
        for(i=1;i<=200;i++){
          lista += '<li id="bolha'+i+'"></li>';
        }
        $("#bolha").html(lista);

        // clica aumenta os pontos
        $("#bolha li").click(function(){
          if( $(this).attr('class') != 'clicado' ){
            $(this).addClass('clicado');
            $("#score").html(parseInt( $("#score").html() ) + 5);
          }
        });

        // contador
        function contador(){
          var tempo = parseInt($('#contador').html());
          // alert(tempo);
          if( tempo > 0 ){
            tempo--;
            $("#contador").html(tempo);
            setTimeout(contador(), 1000);
          } else {
            alert('tempo acabou!');
          }
        }

        // Chama a função ao carregar a tela
        contador();


      });
    </script>
  </body>
</html>
